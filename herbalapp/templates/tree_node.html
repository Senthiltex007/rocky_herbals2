<li>
    <!-- MEMBER BOX — opens popup instead of redirecting -->
    <div class="member-box"
         onclick="openMemberPopup('{{ member.id }}','{{ member.name }}','{{ member.member_id }}')">
        {% if member.avatar %}
            <img src="{{ member.avatar.url }}" alt="{{ member.name }}"
                 style="width:60px;height:60px;border-radius:50%;margin-bottom:5px;">
        {% else %}
            <img src="/static/images/default-avatar.png" alt="No Avatar"
                 style="width:60px;height:60px;border-radius:50%;margin-bottom:5px;">
        {% endif %}
        <b>{{ member.name }}</b><br>
        <small>ID: {{ member.member_id }}</small>
    </div>

    <ul>
        <!-- LEFT CHILD -->
        {% if member.left_child %}
            {% include "tree_node.html" with member=member.left_child %}
        {% else %}
            <li>
                <div class="add-box">
                    ➕ Left <br>
                    <a href="/member/add/?parent={{ member.member_id }}&side=left">Add</a>
                </div>
            </li>
        {% endif %}

        <!-- RIGHT CHILD -->
        {% if member.right_child %}
            {% include "tree_node.html" with member=member.right_child %}
        {% else %}
            <li>
                <div class="add-box">
                    ➕ Right <br>
                    <a href="/member/add/?parent={{ member.member_id }}&side=right">Add</a>
                </div>
            </li>
        {% endif %}
    </ul>
</li>

